version: "3.1"
services:
  kavanest-api:
    container_name: kavanest-api
    build:
      context: .
      dockerfile: Dockerfile
    networks:
      - proxynet
    environment:
      # Use to get data from live system
      # - MQTT=mqtt://kavanet.io

      # Use to get data from simulator
      - MQTT=mqtt://kavanest-sim-mqtt

      - URI=mongodb://kavanest-mongo:27017/devices
    ports:
      - 4000:4000

networks:
  proxynet:
    name: kavanest-devnet
